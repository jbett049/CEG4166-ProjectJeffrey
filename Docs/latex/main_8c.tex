\hypertarget{main_8c}{}\section{main.\+c File Reference}
\label{main_8c}\index{main.\+c@{main.\+c}}
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}queue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}semphr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}L\+C\+D\+Handler.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}L\+E\+D\+Handler.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}decoder\+Task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}motion\+Task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}temperature\+Handler.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}wireless\+\_\+interface.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}usart\+\_\+serial.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}distance\+Handler.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}custom\+\_\+timer.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main_8c_a138f1b09b51030560dc16c3d6f10c70c}{initialize\+Wifi} ()
\item 
void \hyperlink{main_8c_ab4b61010de0271cc0e3bc83b17f087b1}{initialize\+Web\+Server} ()
\item 
void \hyperlink{main_8c_ae4d18962d7439b9973376f31bbf72017}{v\+Task\+Command\+Mode} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_a973f9b2e8f8894e69cfbd134008e2c62}{v\+Task\+Attachment\+Mode} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_a572acb1a0aca5b7fa3bbda4b8c8bbf8a}{v\+Task\+Web\+Server} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_a7cc20ebcbc6fa61a2d03411401bd6e81}{v\+Task\+Temperature} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_a197f4ca17f84ebe9ff3e6f3b314e9a69}{v\+Task\+Move\+Thermo\+Sensor} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_a260534d494b4cf8f9322899cd64312dc}{v\+Task\+Decoder} (void $\ast$pv\+Parameters)
\item 
void \hyperlink{main_8c_ad1df5e6d9819d659cc10452328605cc8}{v\+Task\+L\+CD} (void $\ast$pv\+Parameters)
\item 
int \hyperlink{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\item 
void \hyperlink{main_8c_a2e0defe473604c1bd4c5a11aed724078}{v\+Application\+Stack\+Overflow\+Hook} (Task\+Handle\+\_\+t x\+Task, port\+C\+H\+AR $\ast$pc\+Task\+Name)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{main_8c_acff226fa0a1f8334068317429dcf8519}{ambient\+Temperature}
\item 
int \hyperlink{main_8c_a5bef3a8af97353cf6750030112845434}{left\+Temperature}
\item 
int \hyperlink{main_8c_a2e79cf61ef2d577167dcbf70b07c0899}{right\+Temperature}
\item 
float \hyperlink{main_8c_a7f7e4724cf57d59513b39c5ecc81adc8}{speed}
\item 
float \hyperlink{main_8c_aed8561007effc8b6a55c49c34f27e363}{distance\+Travelled}
\item 
char \hyperlink{main_8c_a667dba90fe1082c90d4326fc05426527}{client\+Request} = \textquotesingle{}F\textquotesingle{}
\item 
char \hyperlink{main_8c_a05fc9ab90c5bb0a87dbaf1f4ddb99595}{previous\+Client\+Request} = \textquotesingle{}A\textquotesingle{}
\item 
Task\+Handle\+\_\+t \hyperlink{main_8c_ad63d2e5258a29f9ac6a8ac302ac6263c}{x\+Command\+Handler}
\item 
Task\+Handle\+\_\+t \hyperlink{main_8c_a5b80ee5cda4f6d2f681f52026a36be5f}{x\+Attachment\+Handler}
\item 
Task\+Handle\+\_\+t \hyperlink{main_8c_a0dab000da2f513c2f54e1322446740d5}{x\+Thermo\+Sensor\+Handler}
\item 
int \hyperlink{main_8c_a151446e1e3d240988973e2b82de55154}{print\+\_\+\+U\+S\+A\+RT}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{main.\+c@{main.\+c}!initialize\+Web\+Server@{initialize\+Web\+Server}}
\index{initialize\+Web\+Server@{initialize\+Web\+Server}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{initialize\+Web\+Server()}{initializeWebServer()}}]{\setlength{\rightskip}{0pt plus 5cm}void initialize\+Web\+Server (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_ab4b61010de0271cc0e3bc83b17f087b1}{}\label{main_8c_ab4b61010de0271cc0e3bc83b17f087b1}
This method initializes the web server by using the wireless\+\_\+interface class. It first configure the web page by setting a page title, and a type of component into it (dropdown list) Then it adds the choices in that dropdown list. After this, it calls the method start\+\_\+web\+\_\+server from the wireless\+\_\+interface class so the server will be able to process the client request and responses. \index{main.\+c@{main.\+c}!initialize\+Wifi@{initialize\+Wifi}}
\index{initialize\+Wifi@{initialize\+Wifi}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{initialize\+Wifi()}{initializeWifi()}}]{\setlength{\rightskip}{0pt plus 5cm}void initialize\+Wifi (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a138f1b09b51030560dc16c3d6f10c70c}{}\label{main_8c_a138f1b09b51030560dc16c3d6f10c70c}
This method initializes the wifi module by using the wireless\+\_\+interface class. Opens the usart port for both the terminal (U\+S\+A\+R\+T\+\_\+0), and the wifi (U\+S\+A\+R\+T\+\_\+2). Then it sets the wireless S\+S\+ID. Finally it activates the wireless connection using the wireless\+\_\+interface class. \index{main.\+c@{main.\+c}!main@{main}}
\index{main@{main}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{main()}{main()}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{}\label{main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}
The program\textquotesingle{}s starting point. This funtion schedules the task and then surrenders control of the system to the scheduler. \index{main.\+c@{main.\+c}!v\+Application\+Stack\+Overflow\+Hook@{v\+Application\+Stack\+Overflow\+Hook}}
\index{v\+Application\+Stack\+Overflow\+Hook@{v\+Application\+Stack\+Overflow\+Hook}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Application\+Stack\+Overflow\+Hook(\+Task\+Handle\+\_\+t x\+Task, port\+C\+H\+A\+R $\ast$pc\+Task\+Name)}{vApplicationStackOverflowHook(TaskHandle_t xTask, portCHAR *pcTaskName)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Application\+Stack\+Overflow\+Hook (
\begin{DoxyParamCaption}
\item[{Task\+Handle\+\_\+t}]{x\+Task, }
\item[{port\+C\+H\+AR $\ast$}]{pc\+Task\+Name}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a2e0defe473604c1bd4c5a11aed724078}{}\label{main_8c_a2e0defe473604c1bd4c5a11aed724078}
Empty function, used only for compatibility with the OS.


\begin{DoxyParams}{Parameters}
{\em x\+Task} & Parameter present for compatibility in the function definition. \\
\hline
{\em pc\+Task\+Name} & Parameter present for compatibility in the function definition. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Attachment\+Mode@{v\+Task\+Attachment\+Mode}}
\index{v\+Task\+Attachment\+Mode@{v\+Task\+Attachment\+Mode}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Attachment\+Mode(void $\ast$pv\+Parameters)}{vTaskAttachmentMode(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Attachment\+Mode (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a973f9b2e8f8894e69cfbd134008e2c62}{}\label{main_8c_a973f9b2e8f8894e69cfbd134008e2c62}
The task handles the attachment mode of chico, it initializes the motion module and then handles the three modes possible in this mode (Searching, Panic, Attached). These three mode analyzes the tempreature, move the robot according to the mode it is in. In attached, chico follows an heat source that he found. In the searching modes it searches an heatsource by turning slowly. In the panic mode, it spins fast to then come back in searching mode.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Command\+Mode@{v\+Task\+Command\+Mode}}
\index{v\+Task\+Command\+Mode@{v\+Task\+Command\+Mode}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Command\+Mode(void $\ast$pv\+Parameters)}{vTaskCommandMode(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Command\+Mode (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_ae4d18962d7439b9973376f31bbf72017}{}\label{main_8c_ae4d18962d7439b9973376f31bbf72017}
The task handles the command mode of chico, it initializes the motion module and the thermo\+Sensor module to mode the head when going forward or backward. Then according to the client request set in the web server task, chico will either go forward (F), backward (B), spin left (L), spin right (R) or stop (S). This task uses the motion module to move the robot.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Decoder@{v\+Task\+Decoder}}
\index{v\+Task\+Decoder@{v\+Task\+Decoder}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Decoder(void $\ast$pv\+Parameters)}{vTaskDecoder(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Decoder (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a260534d494b4cf8f9322899cd64312dc}{}\label{main_8c_a260534d494b4cf8f9322899cd64312dc}
The task responsible for reading the robot\textquotesingle{}s movement information and updating it in the {\ttfamily speed} and {\ttfamily distance\+Travelled} variables.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+L\+CD@{v\+Task\+L\+CD}}
\index{v\+Task\+L\+CD@{v\+Task\+L\+CD}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+L\+C\+D(void $\ast$pv\+Parameters)}{vTaskLCD(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+L\+CD (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_ad1df5e6d9819d659cc10452328605cc8}{}\label{main_8c_ad1df5e6d9819d659cc10452328605cc8}
The task responsible for updating the temperature and movement information periodically in the L\+CD.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Move\+Thermo\+Sensor@{v\+Task\+Move\+Thermo\+Sensor}}
\index{v\+Task\+Move\+Thermo\+Sensor@{v\+Task\+Move\+Thermo\+Sensor}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Move\+Thermo\+Sensor(void $\ast$pv\+Parameters)}{vTaskMoveThermoSensor(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Move\+Thermo\+Sensor (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a197f4ca17f84ebe9ff3e6f3b314e9a69}{}\label{main_8c_a197f4ca17f84ebe9ff3e6f3b314e9a69}
The task responsible for moving the thermo\+Sensor.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Temperature@{v\+Task\+Temperature}}
\index{v\+Task\+Temperature@{v\+Task\+Temperature}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Temperature(void $\ast$pv\+Parameters)}{vTaskTemperature(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Temperature (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a7cc20ebcbc6fa61a2d03411401bd6e81}{}\label{main_8c_a7cc20ebcbc6fa61a2d03411401bd6e81}
The task responsible for reading temperature values and updating them whenever possible in the {\ttfamily ambient\+Temperature}, {\ttfamily right\+Temperature} and {\ttfamily left\+Temperature} variables.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}
\index{main.\+c@{main.\+c}!v\+Task\+Web\+Server@{v\+Task\+Web\+Server}}
\index{v\+Task\+Web\+Server@{v\+Task\+Web\+Server}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{v\+Task\+Web\+Server(void $\ast$pv\+Parameters)}{vTaskWebServer(void *pvParameters)}}]{\setlength{\rightskip}{0pt plus 5cm}void v\+Task\+Web\+Server (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pv\+Parameters}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a572acb1a0aca5b7fa3bbda4b8c8bbf8a}{}\label{main_8c_a572acb1a0aca5b7fa3bbda4b8c8bbf8a}
The task handles the webserver and is responsible for handling both the process request from the client and to get the client response to the suspend and resume either the command mode or task mode depending on the client response.


\begin{DoxyParams}{Parameters}
{\em pv\+Parameters} & Used only for function definition compatibility. \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\index{main.\+c@{main.\+c}!ambient\+Temperature@{ambient\+Temperature}}
\index{ambient\+Temperature@{ambient\+Temperature}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{ambient\+Temperature}{ambientTemperature}}]{\setlength{\rightskip}{0pt plus 5cm}int ambient\+Temperature}\hypertarget{main_8c_acff226fa0a1f8334068317429dcf8519}{}\label{main_8c_acff226fa0a1f8334068317429dcf8519}
Global variable that stores the ambient temperature. Created for sharing information between tasks. \index{main.\+c@{main.\+c}!client\+Request@{client\+Request}}
\index{client\+Request@{client\+Request}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{client\+Request}{clientRequest}}]{\setlength{\rightskip}{0pt plus 5cm}char client\+Request = \textquotesingle{}F\textquotesingle{}}\hypertarget{main_8c_a667dba90fe1082c90d4326fc05426527}{}\label{main_8c_a667dba90fe1082c90d4326fc05426527}
\index{main.\+c@{main.\+c}!distance\+Travelled@{distance\+Travelled}}
\index{distance\+Travelled@{distance\+Travelled}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{distance\+Travelled}{distanceTravelled}}]{\setlength{\rightskip}{0pt plus 5cm}float distance\+Travelled}\hypertarget{main_8c_aed8561007effc8b6a55c49c34f27e363}{}\label{main_8c_aed8561007effc8b6a55c49c34f27e363}
Global variable that stores the distance travelled so far. Created for sharing information between tasks. \index{main.\+c@{main.\+c}!left\+Temperature@{left\+Temperature}}
\index{left\+Temperature@{left\+Temperature}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{left\+Temperature}{leftTemperature}}]{\setlength{\rightskip}{0pt plus 5cm}int left\+Temperature}\hypertarget{main_8c_a5bef3a8af97353cf6750030112845434}{}\label{main_8c_a5bef3a8af97353cf6750030112845434}
Global variable that stores the left pixels\textquotesingle{} temperature. Created for sharing information between tasks. \index{main.\+c@{main.\+c}!previous\+Client\+Request@{previous\+Client\+Request}}
\index{previous\+Client\+Request@{previous\+Client\+Request}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{previous\+Client\+Request}{previousClientRequest}}]{\setlength{\rightskip}{0pt plus 5cm}char previous\+Client\+Request = \textquotesingle{}A\textquotesingle{}}\hypertarget{main_8c_a05fc9ab90c5bb0a87dbaf1f4ddb99595}{}\label{main_8c_a05fc9ab90c5bb0a87dbaf1f4ddb99595}
\index{main.\+c@{main.\+c}!print\+\_\+\+U\+S\+A\+RT@{print\+\_\+\+U\+S\+A\+RT}}
\index{print\+\_\+\+U\+S\+A\+RT@{print\+\_\+\+U\+S\+A\+RT}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{print\+\_\+\+U\+S\+A\+RT}{print_USART}}]{\setlength{\rightskip}{0pt plus 5cm}int print\+\_\+\+U\+S\+A\+RT}\hypertarget{main_8c_a151446e1e3d240988973e2b82de55154}{}\label{main_8c_a151446e1e3d240988973e2b82de55154}
\index{main.\+c@{main.\+c}!right\+Temperature@{right\+Temperature}}
\index{right\+Temperature@{right\+Temperature}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{right\+Temperature}{rightTemperature}}]{\setlength{\rightskip}{0pt plus 5cm}int right\+Temperature}\hypertarget{main_8c_a2e79cf61ef2d577167dcbf70b07c0899}{}\label{main_8c_a2e79cf61ef2d577167dcbf70b07c0899}
Global variable that stores the right pixels\textquotesingle{} temperature. Created for sharing information between tasks. \index{main.\+c@{main.\+c}!speed@{speed}}
\index{speed@{speed}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{speed}{speed}}]{\setlength{\rightskip}{0pt plus 5cm}float speed}\hypertarget{main_8c_a7f7e4724cf57d59513b39c5ecc81adc8}{}\label{main_8c_a7f7e4724cf57d59513b39c5ecc81adc8}
Global variable that stores the robot\textquotesingle{}s speed. Created for sharing information between tasks. \index{main.\+c@{main.\+c}!x\+Attachment\+Handler@{x\+Attachment\+Handler}}
\index{x\+Attachment\+Handler@{x\+Attachment\+Handler}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{x\+Attachment\+Handler}{xAttachmentHandler}}]{\setlength{\rightskip}{0pt plus 5cm}Task\+Handle\+\_\+t x\+Attachment\+Handler}\hypertarget{main_8c_a5b80ee5cda4f6d2f681f52026a36be5f}{}\label{main_8c_a5b80ee5cda4f6d2f681f52026a36be5f}
\index{main.\+c@{main.\+c}!x\+Command\+Handler@{x\+Command\+Handler}}
\index{x\+Command\+Handler@{x\+Command\+Handler}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{x\+Command\+Handler}{xCommandHandler}}]{\setlength{\rightskip}{0pt plus 5cm}Task\+Handle\+\_\+t x\+Command\+Handler}\hypertarget{main_8c_ad63d2e5258a29f9ac6a8ac302ac6263c}{}\label{main_8c_ad63d2e5258a29f9ac6a8ac302ac6263c}
\index{main.\+c@{main.\+c}!x\+Thermo\+Sensor\+Handler@{x\+Thermo\+Sensor\+Handler}}
\index{x\+Thermo\+Sensor\+Handler@{x\+Thermo\+Sensor\+Handler}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{x\+Thermo\+Sensor\+Handler}{xThermoSensorHandler}}]{\setlength{\rightskip}{0pt plus 5cm}Task\+Handle\+\_\+t x\+Thermo\+Sensor\+Handler}\hypertarget{main_8c_a0dab000da2f513c2f54e1322446740d5}{}\label{main_8c_a0dab000da2f513c2f54e1322446740d5}
