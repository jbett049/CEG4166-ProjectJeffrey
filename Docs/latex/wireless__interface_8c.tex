\hypertarget{wireless__interface_8c}{}\section{wireless\+\_\+interface.\+c File Reference}
\label{wireless__interface_8c}\index{wireless\+\_\+interface.\+c@{wireless\+\_\+interface.\+c}}


This file defines and implements the functions responsible for interface with Gainspan G\+S1011M Wi\+Fi module and Web server to interact with clients connecting over Wi\+Fi.  


{\ttfamily \#include \char`\"{}Free\+R\+T\+O\+S.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$util/delay.\+h$>$}\\*
{\ttfamily \#include \char`\"{}wireless\+\_\+interface.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{group__wireless__interface_struct_w_i_f_i___s_e_r_v_e_r}{W\+I\+F\+I\+\_\+\+S\+E\+R\+V\+ER}
\begin{DoxyCompactList}\small\item\em Data structure to hold web-\/server configuration parameters.  \hyperlink{group__wireless__interface_struct_w_i_f_i___s_e_r_v_e_r}{More...}\end{DoxyCompactList}\item 
struct \hyperlink{group__wireless__interface_struct_w_i_f_i___c_l_i_e_n_t}{W\+I\+F\+I\+\_\+\+C\+L\+I\+E\+NT}
\begin{DoxyCompactList}\small\item\em Data structure to client configuration parameters.  \hyperlink{group__wireless__interface_struct_w_i_f_i___c_l_i_e_n_t}{More...}\end{DoxyCompactList}\item 
struct \hyperlink{group__wireless__interface_struct_h_t_m_l___e_l_e_m_e_n_t___c_h_o_i_c_e}{H\+T\+M\+L\+\_\+\+E\+L\+E\+M\+E\+N\+T\+\_\+\+C\+H\+O\+I\+CE}
\begin{DoxyCompactList}\small\item\em Data structure to hold detail of a H\+T\+ML element.  \hyperlink{group__wireless__interface_struct_h_t_m_l___e_l_e_m_e_n_t___c_h_o_i_c_e}{More...}\end{DoxyCompactList}\item 
struct \hyperlink{group__wireless__interface_struct_h_t_m_l___w_e_b___p_a_g_e}{H\+T\+M\+L\+\_\+\+W\+E\+B\+\_\+\+P\+A\+GE}
\begin{DoxyCompactList}\small\item\em Data structure to hold detail of H\+T\+ML web-\/page.  \hyperlink{group__wireless__interface_struct_h_t_m_l___w_e_b___p_a_g_e}{More...}\end{DoxyCompactList}\item 
struct \hyperlink{group__wireless__interface_struct_s_o_c_k_e_t___t_a_b_l_e}{S\+O\+C\+K\+E\+T\+\_\+\+T\+A\+B\+LE}
\begin{DoxyCompactList}\small\item\em Gainspan device socket table.  \hyperlink{group__wireless__interface_struct_s_o_c_k_e_t___t_a_b_l_e}{More...}\end{DoxyCompactList}\item 
struct \hyperlink{group__wireless__interface_struct_g_a_i_n_s_p_a_n}{G\+A\+I\+N\+S\+P\+AN}
\begin{DoxyCompactList}\small\item\em Gainspan module;.  \hyperlink{group__wireless__interface_struct_g_a_i_n_s_p_a_n}{More...}\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wireless__interface_gaf9f3a72bce0008c7561ac323435290ba}{C\+H\+A\+R\+A\+C\+T\+E\+R\+S\+\_\+\+T\+O\+\_\+\+R\+E\+A\+D\+\_\+\+F\+R\+O\+M\+\_\+\+G\+A\+I\+N\+S\+P\+A\+N\+\_\+\+R\+E\+S\+P\+O\+N\+SE}~128
\item 
\#define \hyperlink{group__wireless__interface_ga3285f9ce31e51e5eeb6139ca24bf2de5}{G\+E\+N\+E\+R\+A\+L\+\_\+\+S\+I\+ZE}~128
\item 
\#define \hyperlink{group__wireless__interface_ga2b0b8b640f7863e341022226a4084ad9}{I\+P\+\_\+\+S\+I\+ZE}~15
\item 
\#define \hyperlink{group__wireless__interface_ga4a42661e54e8122b4a77374f16a38eed}{C\+O\+M\+M\+A\+N\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+O\+L\+L\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L\+\_\+\+I\+N\+\_\+\+M\+I\+L\+L\+I\+S\+E\+C\+O\+N\+DS}~5
\item 
\#define \hyperlink{group__wireless__interface_gaaabb444506930863d212ea03bf0b31d0}{H\+T\+M\+L\+\_\+\+E\+L\+E\+M\+E\+N\+T\+\_\+\+L\+A\+B\+E\+L\+\_\+\+S\+I\+ZE}~40
\item 
\#define \hyperlink{group__wireless__interface_ga494d4bc8995ae2fde8093a5e0f3c3936}{W\+E\+B\+\_\+\+P\+A\+G\+E\+\_\+\+E\+L\+E\+M\+E\+N\+TS}~10
\item 
\#define \hyperlink{group__wireless__interface_gaa4b9b2c3a0037685aa27d2cf3201dc4d}{W\+E\+B\+\_\+\+T\+I\+T\+L\+E\+\_\+\+S\+I\+ZE}~128
\item 
\#define \hyperlink{group__wireless__interface_gad2f3678bf5eae3684fc497130b946eae}{M\+IN}(X,  Y)~((X) $<$ (Y) ? (X) \+: (Y))
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__wireless__interface_gaf8c02aba93d7bcb5ecf758d4b9f2db53}{W\+E\+B\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+T\+US} \{ \hyperlink{group__wireless__interface_ggaf8c02aba93d7bcb5ecf758d4b9f2db53a5236a8f0be55d19397fc6d251c8782d8}{W\+E\+B\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+N\+O\+T\+\_\+\+A\+C\+T\+I\+VE} = 0, 
\hyperlink{group__wireless__interface_ggaf8c02aba93d7bcb5ecf758d4b9f2db53a1f8d5f66915ac3a3fd7d31819c30784d}{W\+E\+B\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+C\+T\+I\+VE} = 1
 \}\begin{DoxyCompactList}\small\item\em Web server status. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__wireless__interface_ga0c19ab3a13d7f9277a818c80a3a3ca48}{gs\+\_\+initialize\+\_\+gainspan} (void)
\begin{DoxyCompactList}\small\item\em Initialize Gainspan module with default configuration parameters. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga0cc6ad36a0579e034ffb389c1d2b9962}{gs\+\_\+send\+\_\+command} (\hyperlink{group__wireless__interface_ga4086b0cc4b349f6204256017ac437d3f}{A\+T\+\_\+\+C\+O\+M\+M\+A\+ND} at\+\_\+command)
\begin{DoxyCompactList}\small\item\em Send/submit command to Gainspan Wi\+Fi module. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{group__wireless__interface_gaa828081a3f6e8a45985ae2cb55fa420e}{gs\+\_\+get\+\_\+command\+\_\+response} (char $\ast$gs\+\_\+command\+\_\+response, uint16\+\_\+t polling\+\_\+period\+\_\+in\+\_\+milliseconds)
\begin{DoxyCompactList}\small\item\em Collect the command response from Gainspan Wi\+Fi module. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_gab9cb187a993cee0dab2a6e72223e00d1}{C\+O\+M\+M\+A\+N\+D\+\_\+\+O\+U\+T\+C\+O\+ME} \hyperlink{group__wireless__interface_ga9da6bbc665d9662b6e33a264ad477b18}{gs\+\_\+parse\+\_\+command\+\_\+response} (char $\ast$gs\+\_\+command\+\_\+response)
\begin{DoxyCompactList}\small\item\em Parse the command response from Gainspan Wi\+Fi module. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_gab9cb187a993cee0dab2a6e72223e00d1}{C\+O\+M\+M\+A\+N\+D\+\_\+\+O\+U\+T\+C\+O\+ME} \hyperlink{group__wireless__interface_ga24ed385355f777402430ae15fef18344}{gs\+\_\+parse\+\_\+command\+\_\+response\+\_\+tcp} (char $\ast$gs\+\_\+command\+\_\+response, \hyperlink{group__wireless__interface_ga2bd47c85b6411d92d82236c49fbaf567}{S\+O\+C\+K\+E\+T\+\_\+\+M\+O\+DE} socket\+\_\+mode, \hyperlink{group__wireless__interface_ga4086b0cc4b349f6204256017ac437d3f}{A\+T\+\_\+\+C\+O\+M\+M\+A\+ND} at\+\_\+command)
\begin{DoxyCompactList}\small\item\em Parse the command response from Gainspan Wi\+Fi module for T\+CP connections. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gab14afdb0319dfc1020c5b71a7261c094}{gs\+\_\+send\+\_\+command\+\_\+response\+\_\+to\+\_\+serial\+\_\+terminal} (\hyperlink{group__wireless__interface_ga4086b0cc4b349f6204256017ac437d3f}{A\+T\+\_\+\+C\+O\+M\+M\+A\+ND} at\+\_\+command, \hyperlink{group__wireless__interface_gab9cb187a993cee0dab2a6e72223e00d1}{C\+O\+M\+M\+A\+N\+D\+\_\+\+O\+U\+T\+C\+O\+ME} command\+\_\+result)
\begin{DoxyCompactList}\small\item\em Send the message to serial terminal on outcome of the command response from Gainspan Wi\+Fi module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gac1bd431c75381b77fadd0df01280ed57}{gs\+\_\+send\+\_\+activation\+\_\+status\+\_\+to\+\_\+serial\+\_\+terminal} (\hyperlink{group__wireless__interface_ga2d6a1c69aec7812a8dc23ed99f96558e}{G\+A\+I\+N\+S\+P\+A\+N\+\_\+\+A\+C\+T\+I\+VE} gs\+\_\+active)
\begin{DoxyCompactList}\small\item\em Send the activation status of Gainspan Wi\+Fi module to serial terminal. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gac6496e86569ad26b1df8045b14eb0b71}{initialize\+\_\+web\+\_\+server} (uint16\+\_\+t port, uint8\+\_\+t protocol)
\begin{DoxyCompactList}\small\item\em Initialize web-\/server. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__wireless__interface_ga3bee5fd668cac8e57bf74dd50460053e}{hex\+\_\+to\+\_\+int} (char character)
\begin{DoxyCompactList}\small\item\em Convert Hexadecimal to Integer. \end{DoxyCompactList}\item 
char \hyperlink{group__wireless__interface_gac6ffcd32b33eedd6fc20775b3c18b044}{int\+\_\+to\+\_\+hex} (uint8\+\_\+t character)
\begin{DoxyCompactList}\small\item\em Convert Integer to Hexadecimal. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gadd81da265cd8d3519ec4ac9759064849}{gs\+\_\+initialize\+\_\+module} (\hyperlink{group__usart_async_module_gaae3c5ea77a411e5f40e4377f77067b86}{U\+S\+A\+R\+T\+\_\+\+ID} target\+\_\+usart\+\_\+id, \hyperlink{group__wireless__interface_gafd83f18bb43add6a2eaf3228fec2fed7}{B\+A\+U\+D\+\_\+\+R\+A\+TE} target\+\_\+baud\+\_\+rate, \hyperlink{group__usart_async_module_gaae3c5ea77a411e5f40e4377f77067b86}{U\+S\+A\+R\+T\+\_\+\+ID} target\+\_\+serial\+\_\+terminal\+\_\+usart\+\_\+id, \hyperlink{group__wireless__interface_gafd83f18bb43add6a2eaf3228fec2fed7}{B\+A\+U\+D\+\_\+\+R\+A\+TE} target\+\_\+serial\+\_\+terminal\+\_\+baud\+\_\+rate)
\begin{DoxyCompactList}\small\item\em Initialize Gainspan module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga0137ec7b150b3a5b08c21d5ca5294891}{gs\+\_\+set\+\_\+usart} (\hyperlink{group__usart_async_module_gaae3c5ea77a411e5f40e4377f77067b86}{U\+S\+A\+R\+T\+\_\+\+ID} target\+\_\+usart\+\_\+id, \hyperlink{group__wireless__interface_gafd83f18bb43add6a2eaf3228fec2fed7}{B\+A\+U\+D\+\_\+\+R\+A\+TE} target\+\_\+baud\+\_\+rate, \hyperlink{group__usart_async_module_gaae3c5ea77a411e5f40e4377f77067b86}{U\+S\+A\+R\+T\+\_\+\+ID} target\+\_\+serial\+\_\+terminal\+\_\+usart\+\_\+id, \hyperlink{group__wireless__interface_gafd83f18bb43add6a2eaf3228fec2fed7}{B\+A\+U\+D\+\_\+\+R\+A\+TE} target\+\_\+serial\+\_\+terminal\+\_\+baud\+\_\+rate)
\begin{DoxyCompactList}\small\item\em Set U\+S\+A\+RT parameters for Gainspan module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga9d2e2414919271a9031b843a6c9c7cea}{gs\+\_\+set\+\_\+network\+\_\+configuration} (\hyperlink{group__wireless__interface_struct_n_e_t_w_o_r_k___p_r_o_f_i_l_e}{N\+E\+T\+W\+O\+R\+K\+\_\+\+P\+R\+O\+F\+I\+LE} target\+\_\+network\+\_\+profile)
\begin{DoxyCompactList}\small\item\em Set network configuration parameters for Gainspan module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga1a44d81b83d52c48266bb00597a38429}{gs\+\_\+set\+\_\+wireless\+\_\+configuration} (\hyperlink{group__wireless__interface_struct_w_i_r_e_l_e_s_s___p_r_o_f_i_l_e}{W\+I\+R\+E\+L\+E\+S\+S\+\_\+\+P\+R\+O\+F\+I\+LE} target\+\_\+wireless\+\_\+profile)
\begin{DoxyCompactList}\small\item\em Set wireless configuration parameters for Gainspan module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gaf865756bf94aa3102d6409a85fbd0f48}{gs\+\_\+set\+\_\+wireless\+\_\+ssid} (char $\ast$wireless\+\_\+ssid)
\begin{DoxyCompactList}\small\item\em Set S\+S\+ID for wireless configurations for Gainspan module. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gababe539199e257225dc592210b7488c1}{gs\+\_\+set\+\_\+webserver\+\_\+authentication} (\hyperlink{group__wireless__interface_struct_w_e_b_s_e_r_v_e_r___a_u_t_h_e_n_t_i_c_a_t_i_o_n___p_r_o_f_i_l_e}{W\+E\+B\+S\+E\+R\+V\+E\+R\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+P\+R\+O\+F\+I\+LE} target\+\_\+webserver\+\_\+profile)
\begin{DoxyCompactList}\small\item\em Set web server authentication parameters for Gainspan module. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2d6a1c69aec7812a8dc23ed99f96558e}{G\+A\+I\+N\+S\+P\+A\+N\+\_\+\+A\+C\+T\+I\+VE} \hyperlink{group__wireless__interface_ga880dacf1b386b927ddea018919b6b600}{gs\+\_\+activate\+\_\+wireless\+\_\+connection} (void)
\begin{DoxyCompactList}\small\item\em Activate Gainspan Wi\+Fi device using the configuration parameters. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_gab7faea06bd57469129426e00fcdfe8c7}{S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+US} \hyperlink{group__wireless__interface_ga8734bea20a2f6ea1e7b6d24e0b5a3508}{gs\+\_\+get\+\_\+socket\+\_\+status} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Get socket status. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_gabc31d81e6c01f7906a21f41e7aa4a42f}{gs\+\_\+activate\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Activate socket. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} \hyperlink{group__wireless__interface_gadd2796299c188849e984ee47eb651af0}{gs\+\_\+get\+\_\+active\+\_\+socket} (void)
\begin{DoxyCompactList}\small\item\em Get current active socket. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2966051bfea778d846d94013f7cb888d}{P\+R\+O\+T\+O\+C\+O\+LS} \hyperlink{group__wireless__interface_ga79400124912ba504565f5fa3a1a86f98}{gs\+\_\+get\+\_\+socket\+\_\+protocol} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Get socket protocol. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga6be486e56223df1b41c1f3a04cb7d471}{T\+C\+P\+\_\+\+P\+O\+RT} \hyperlink{group__wireless__interface_ga5f0003ed79a9930162bff98358394517}{gs\+\_\+get\+\_\+socket\+\_\+port} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Get socket port. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_gac5f323b546815b3b0a9ac0fcdc59a3ca}{gs\+\_\+get\+\_\+data\+\_\+on\+\_\+socket\+\_\+status} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Check socket for data availability i.\+e. Check if socket has data through T\+CP connection to a client.. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga0bd5c458ea6b7b093774e1a4ac19f134}{gs\+\_\+configure\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket, \hyperlink{group__wireless__interface_ga2966051bfea778d846d94013f7cb888d}{P\+R\+O\+T\+O\+C\+O\+LS} socket\+\_\+protocol, \hyperlink{group__wireless__interface_ga6be486e56223df1b41c1f3a04cb7d471}{T\+C\+P\+\_\+\+P\+O\+RT} socket\+\_\+port)
\begin{DoxyCompactList}\small\item\em Configure and activate a socket for T\+CP Server to listen. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_ga4e5e8f55a064c7537a8398df1d7da8e0}{gs\+\_\+enable\+\_\+activate\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Enable T\+CP Server on a socket to listen. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_gac877437386a7198c2fe889ca2c13a16a}{gs\+\_\+reset\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Reset socket to defaults and put in listen mode. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_ga2e35088a7ecd803f403b6e0afa21b179}{gs\+\_\+disconnect\+\_\+deactivate\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Disconnect and deactivate socket. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_gaf95271b91205e3289d959e4e1ce4c6c3}{gs\+\_\+read\+\_\+data\+\_\+from\+\_\+socket} (char $\ast$data\+\_\+string)
\begin{DoxyCompactList}\small\item\em Process T\+CP response/request. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} \hyperlink{group__wireless__interface_ga6daf26ca8217fba4d59bacb17ce81698}{gs\+\_\+get\+\_\+socket\+\_\+having\+\_\+active\+\_\+connection\+\_\+and\+\_\+data} (void)
\begin{DoxyCompactList}\small\item\em Check if T\+CP response/request registered after process of any socket i.\+e. client. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_ga2e53871073b531f122f463441c113633}{S\+U\+C\+C\+E\+S\+S\+\_\+\+E\+R\+R\+OR} \hyperlink{group__wireless__interface_ga833f4a56971310092186e8973687d1c9}{gs\+\_\+get\+\_\+socket\+\_\+connection\+\_\+status} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket)
\begin{DoxyCompactList}\small\item\em Check if socket has active T\+CP connection to a client. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga30139e0be00fb40524fcda595da58802}{gs\+\_\+write\+\_\+data\+\_\+to\+\_\+socket} (\hyperlink{group__wireless__interface_gab2d7ad3f99c2b04b0f5f5a77eefc5355}{T\+C\+P\+\_\+\+S\+O\+C\+K\+ET} socket, char $\ast$data\+\_\+string)
\begin{DoxyCompactList}\small\item\em Write data to socket. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga69ea911394dd51594235998ab6433948}{gs\+\_\+flush} (void)
\begin{DoxyCompactList}\small\item\em Flush the receiving buffer for Gainspan interface. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga5fffbf0efe019e42faef3e801c21af7d}{configure\+\_\+web\+\_\+page} (char $\ast$page\+\_\+title, char $\ast$menu\+\_\+title, \hyperlink{group__wireless__interface_ga2cc36b7c5f3111667d440d462542b02f}{H\+T\+M\+L\+\_\+\+E\+L\+E\+M\+E\+N\+T\+\_\+\+T\+Y\+PE} element\+\_\+type)
\begin{DoxyCompactList}\small\item\em Configure web-\/page. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga9232914e10eaf554254e01125de8bea5}{add\+\_\+element\+\_\+choice} (char choice\+\_\+identifier, char $\ast$element\+\_\+label)
\begin{DoxyCompactList}\small\item\em Add an element entry/choice. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_ga199824a067b165e6f58d54f4deba7cf5}{start\+\_\+web\+\_\+server} (void)
\begin{DoxyCompactList}\small\item\em Start the web-\/server. \end{DoxyCompactList}\item 
void \hyperlink{group__wireless__interface_gae035353439173124e040f4f2e1a870fe}{process\+\_\+client\+\_\+request} (void)
\begin{DoxyCompactList}\small\item\em Process client request. \end{DoxyCompactList}\item 
char \hyperlink{group__wireless__interface_ga2100585c30b1024f988075494c0a7b88}{get\+\_\+next\+\_\+client\+\_\+response} (void)
\begin{DoxyCompactList}\small\item\em Get the client response (next) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__wireless__interface_struct_w_i_f_i___s_e_r_v_e_r}{W\+I\+F\+I\+\_\+\+S\+E\+R\+V\+ER} \hyperlink{group__wireless__interface_gae4c1511ca93f3701dbf5b10cf287b2ad}{wifi\+\_\+server}
\item 
\hyperlink{group__wireless__interface_struct_w_i_f_i___c_l_i_e_n_t}{W\+I\+F\+I\+\_\+\+C\+L\+I\+E\+NT} \hyperlink{group__wireless__interface_gadbbf854f2e0f87372c26b3d29eedfd73}{wifi\+\_\+client}
\item 
const char $\ast$ \hyperlink{group__wireless__interface_gac38a44d54dfb9bc52a44c22fc1cb0599}{gs\+\_\+at\+\_\+commands} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Gainspan module command table;. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_struct_g_a_i_n_s_p_a_n}{G\+A\+I\+N\+S\+P\+AN} \hyperlink{group__wireless__interface_ga6ca64d92ac8c97336c5b12c1c7bd314c}{gainspan}
\begin{DoxyCompactList}\small\item\em Gainspan data structure;. \end{DoxyCompactList}\item 
\hyperlink{group__wireless__interface_struct_h_t_m_l___w_e_b___p_a_g_e}{H\+T\+M\+L\+\_\+\+W\+E\+B\+\_\+\+P\+A\+GE} \hyperlink{group__wireless__interface_ga89c8d1fbc038a4f41cb713ec8b7fcd23}{client\+\_\+web\+\_\+page}
\item 
char $\ast$ \hyperlink{group__wireless__interface_gae1c59ff89e7cf7528ed8df534e67b568}{client\+\_\+response\+\_\+buffer}
\item 
uint8\+\_\+t \hyperlink{group__wireless__interface_ga3b5ad9fbc3f1f6ef9340e180a86d75c0}{client\+\_\+response\+\_\+buffer\+\_\+write\+\_\+pointer} = 0
\item 
uint8\+\_\+t \hyperlink{group__wireless__interface_ga46a00362b669fe2b4dc08b9c2c983675}{client\+\_\+response\+\_\+buffer\+\_\+read\+\_\+pointer} = 0
\item 
\hyperlink{group__wireless__interface_gaf8c02aba93d7bcb5ecf758d4b9f2db53}{W\+E\+B\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+S\+T\+A\+T\+US} \hyperlink{group__wireless__interface_gaf05beffcad5d1d2018a346cfc8c813a1}{web\+\_\+server\+\_\+status} = \hyperlink{group__wireless__interface_ggaf8c02aba93d7bcb5ecf758d4b9f2db53a5236a8f0be55d19397fc6d251c8782d8}{W\+E\+B\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+N\+O\+T\+\_\+\+A\+C\+T\+I\+VE}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file defines and implements the functions responsible for interface with Gainspan G\+S1011M Wi\+Fi module and Web server to interact with clients connecting over Wi\+Fi. 

Gainspan G\+S1011M Wi\+Fi\+: Defines the functions responsible for interface with Wi\+Fi shields based on Gainspan G\+S1011M module. Provides functions to configure, activate Limited AP hot-\/spot, and interact or communicate using sockets.

\begin{DoxyNote}{Note}
Module uses \hyperlink{group__usart_async_module}{U\+S\+A\+RT Asynchronous Serial Module} to communicate with Gainspan G\+S1011M module over serial communication. It also communicates the progress to serial terminal. Hence, it requires two U\+S\+A\+R\+Ts, for Gainspan and serial terminal communication respectively.

Default\+: U\+S\+A\+R\+T0 is for serial terminal and U\+S\+A\+R\+T2 for Gainspan communication.
\end{DoxyNote}
Web Server \+: Limited function web server to interact with client connected over Gainspan module based Wi-\/\+Fi network. A simple H\+T\+ML page with elements such as drop down list (H\+T\+M\+L\+\_\+\+D\+R\+O\+P\+D\+O\+W\+N\+\_\+\+L\+I\+ST) or radio buttons (H\+T\+M\+L\+\_\+\+R\+A\+D\+I\+O\+\_\+\+B\+U\+T\+T\+ON) can be created under a menu. Titles for page and menu can be defined.

Client response (single character for each event) are stored in a ring buffer, with size of R\+I\+N\+G\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE.

\begin{DoxyNote}{Note}
Web-\/server can be accessed via default host ip 192.\+168.\+3.\+1 over H\+T\+TP i.\+e. use a web browser to access the web-\/page/home page via host ip 192.\+168.\+3.\+1

This module uses \hyperlink{group__usart_async_module}{U\+S\+A\+RT Asynchronous Serial Module}.

Default network configuration \+: IP -\/ 192.\+168.\+3.\+1 Subnet -\/ 255.\+255.\+255.\+0 Gateway -\/ 192.\+168.\+3.\+1

Module takes approximately 4200ms (4.\+2s) to complete the initialization.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Ensure interrupts are enable before initializing the module.

Ensure switch S3 (Wi\+Fi U\+S\+A\+RT\+:S\+W/\+HW) on Hydrogen Wi\+Fi Shield is at U\+S\+A\+RT\+:Sw/\+HW position.

Ensure to define an unique S\+S\+ID, to avoid conflict with neighbouring networks.
\end{DoxyWarning}
Usage guide (For \char`\"{}\+Limited A\+P\char`\"{} or hot-\/spot mode)\+: \begin{DoxyVerb}    => Set SET_GAINSPAN_TERMINAL_OUTPUT_ON to 1 in "gainspan_gs1011m.h" to get the command response/progress on
        serial terminal.

    => Set SET_WEB_SERVER_TERMINAL_OUTPUT_ON to 1 in "web_server.h" to get server logs on serial terminal.

    => Initialize USART0 and USART2

    => Call API function gs_initialize_module(USART_ID target_usart_id, BAUD_RATE target_baud_rate, USART_ID target_serial_terminal_usart_id, BAUD_RATE target_serial_terminal_baud_rate)
        to initialize the module with default parameters.

        Example: gs_initialize_module(usart_two, BAUD_RATE_9600, usart_zero, BAUD_RATE_115200);

    => Call gs_set_wireless_ssid(char *wireless_ssid) to assign SSID for your WiFi network, alternately
        you can call gs_set_wireless_configuration(WIRELESS_PROFILE target_wireless_profile) and
        gs_set_network_configuration(NETWORK_PROFILE target_network_profile) to provide detailed configuration
        parameters for network and wireless configuration.

        Example: gs_set_wireless_ssid("WifiTeamX")

    => Call gs_activate_wireless_connection(), to activate wireless network with configuration parameters
    defined in earlier step. Status will be returned defined by GAINSPAN_ACTIVE, which you can verify.

    => Configure web page by providing the page title, menu title and HTML element type

        call configure_web_page(char *page_title, char *menu_title, HTML_ELEMENT_TYPE element_type)

        Example: configure_web_page("Chico: The Robot", "! Control Interface !", HTML_DROPDOWN_LIST);

    => Add elements (drop-down list entries or radio buttons) to the web page and complete the web page.

        call add_element_choice(char choice_identifier, char *element_label)

    Example:

        add_element_choice('F', "Forward");

        add_element_choice('R', "Reverse");

    => Start web server - with http port 80 and TCP protocol

        call start_web_server();

    => Serve the incoming connection request from clients, ensure to call this function from task with
        a sufficiently high frequency to serve all the request and avoid time-out for clients.

        call process_client_request();

    => Read client response, the response (single character representing choice submission from web-page)
        is stored in a ring buffer. Ensure to read the responses quick enough, as the ring buffer will be
        overwritten by incoming responses.

        call get_next_client_response(void)

        Example: client_request = get_next_client_response();
\end{DoxyVerb}


\begin{DoxyNote}{Note}
To acknowledge and serve the H\+T\+TP request from client and read client response from web-\/page call functions \hyperlink{group__wireless__interface_gae035353439173124e040f4f2e1a870fe}{process\+\_\+client\+\_\+request()} and \hyperlink{group__wireless__interface_ga2100585c30b1024f988075494c0a7b88}{get\+\_\+next\+\_\+client\+\_\+response()} repeatedly in your task.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
In case system does not initialize successfully, either reset the hardware or reload the source code and try again. 
\end{DoxyWarning}
